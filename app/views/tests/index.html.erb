<h1>All Tests</h1>

<h3><div style="margin-bottom: 35px"><%= link_to 'Create New Test', new_test_path %></div></h3>


<% @tests.each do |test| %>
  <div style="margin-bottom: 20px; padding: 10px; border: 1px solid #ccc;">
    <h2><%= link_to test.title, test_path(test) %></h2>
    <p><strong>Level:</strong> <%= test.level %></p>
    <p><strong>Category:</strong> <%= test.category.title %></p>

    <% if test.questions.any? %>
      <h4>
      Questions (<%= test.questions.count %>):
      </h4>
      <ul>
        <%= render partial: 'questions/question', collection: test.questions %>
      </ul>
    <% else %>
      <p><em>No questions yet.</em></p>
    <% end %>

    <%= render 'questions/form', test: test, question: Question.new %>
  </div>
<% end %>
